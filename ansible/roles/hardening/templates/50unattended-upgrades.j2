# Managed by Ansible — Aegis
# Only security origins — application versions are left untouched.

Unattended-Upgrade::Allowed-Origins {
    "${distro_id}:${distro_codename}-security";
    "${distro_id}ESMApps:${distro_codename}-apps-security";
    "${distro_id}ESM:${distro_codename}-infra-security";
};

// Remove unused kernel packages
Unattended-Upgrade::Remove-Unused-Kernel-Packages "true";

// Remove unused dependencies after patch (like apt autoremove)
Unattended-Upgrade::Remove-New-Unused-Dependencies "true";
Unattended-Upgrade::Remove-Unused-Dependencies "true";

// Automatic reboot DISABLED — leaves /var/run/reboot-required, we alert the user
Unattended-Upgrade::Automatic-Reboot "false";

// Log
Unattended-Upgrade::SyslogEnable "true";
Unattended-Upgrade::LogDir "/var/log/unattended-upgrades";
